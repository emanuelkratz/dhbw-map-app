{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from \"@capacitor/core\";\nconst NativeGeocoder = registerPlugin(\"NativeGeocoder\", {\n    web: () => import(\"./web\").then((m) => new m.NativeGeocoderWeb()),\n});\nexport * from \"./definitions\";\nexport { NativeGeocoder };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from \"@capacitor/core\";\nconst findAC = (address_components, type) => {\n    return (address_components.find((component) => component.types.includes(type)) || {\n        long_name: \"\",\n        short_name: \"\",\n        types: [],\n    });\n};\nexport class NativeGeocoderWeb extends WebPlugin {\n    async reverseGeocode(options) {\n        if (!options.apiKey) {\n            throw new Error(\"apiKey is required for web\");\n        }\n        const params = Object.assign(Object.assign({ latlng: `${options.latitude},${options.longitude}`, key: options.apiKey }, (options.defaultLocale && { language: options.defaultLocale })), { result_type: options.resultType || \"street_address\" });\n        return fetch(`https://maps.googleapis.com/maps/api/geocode/json?${new URLSearchParams(params).toString()}`)\n            .then((response) => response.json())\n            .then((data) => {\n            return {\n                addresses: data.results\n                    .map((result) => {\n                    // transform the response in Address[]\n                    // use the result from google geocoder and transform it in Address\n                    return {\n                        latitude: result.geometry.location.lat,\n                        longitude: result.geometry.location.lng,\n                        countryCode: findAC(result.address_components, \"country\")\n                            .short_name,\n                        countryName: findAC(result.address_components, \"country\")\n                            .long_name,\n                        postalCode: findAC(result.address_components, \"postal_code\")\n                            .long_name,\n                        administrativeArea: findAC(result.address_components, \"administrative_area_level_1\").long_name,\n                        subAdministrativeArea: findAC(result.address_components, \"administrative_area_level_2\").long_name,\n                        locality: findAC(result.address_components, \"locality\")\n                            .long_name,\n                        subLocality: findAC(result.address_components, \"sublocality\")\n                            .long_name,\n                        thoroughfare: findAC(result.address_components, \"route\")\n                            .long_name,\n                        subThoroughfare: findAC(result.address_components, \"street_number\").long_name,\n                        areasOfInterest: [],\n                    };\n                })\n                    .slice(0, options.maxResults || 1),\n            };\n        });\n    }\n    async forwardGeocode(options) {\n        if (!options.apiKey) {\n            throw new Error(\"apiKey is required for web\");\n        }\n        const params = Object.assign(Object.assign({ address: options.addressString, key: options.apiKey }, (options.defaultLocale && { language: options.defaultLocale })), { result_type: \"street_address\" });\n        return fetch(`https://maps.googleapis.com/maps/api/geocode/json?${new URLSearchParams(params).toString()}`)\n            .then((response) => response.json())\n            .then((data) => {\n            return {\n                addresses: data.results\n                    .map((result) => {\n                    // transform the response in Address[]\n                    // use the result from google geocoder and transform it in Address\n                    return {\n                        latitude: result.geometry.location.lat,\n                        longitude: result.geometry.location.lng,\n                        countryCode: findAC(result.address_components, \"country\")\n                            .short_name,\n                        countryName: findAC(result.address_components, \"country\")\n                            .long_name,\n                        postalCode: findAC(result.address_components, \"postal_code\")\n                            .long_name,\n                        administrativeArea: findAC(result.address_components, \"administrative_area_level_1\").long_name,\n                        subAdministrativeArea: findAC(result.address_components, \"administrative_area_level_2\").long_name,\n                        locality: findAC(result.address_components, \"locality\")\n                            .long_name,\n                        subLocality: findAC(result.address_components, \"sublocality\")\n                            .long_name,\n                        thoroughfare: findAC(result.address_components, \"route\")\n                            .long_name,\n                        subThoroughfare: findAC(result.address_components, \"street_number\").long_name,\n                        areasOfInterest: [],\n                    };\n                })\n                    .slice(0, options.maxResults || 1),\n            };\n        });\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}